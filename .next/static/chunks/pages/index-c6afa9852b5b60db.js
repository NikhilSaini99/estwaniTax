(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1182)}])},1893:function(e,r,n){"use strict";n.r(r);var s=n(5893),t=n(7294),i=n(629),l=n(1536),a=n(5861),d=n(2882),o=n(7906),u=n(3184),c=n(3816),x=n(3252),m=n(295),p=n(3321),h=n(2734),f=n(8396),j=n(773);n(640);var _=n(3337),Z=n(1664),b=n.n(Z),w=n(1163),g=n(1649),y=n(4937);r.default=()=>{(0,w.useRouter)();let e=(0,h.Z)();(0,f.Z)(e.breakpoints.down("sm"));let[r,n]=(0,t.useState)([]),Z=(0,g.I0)(),{data:v,fetchAPI:E}=(0,j.i)("get","/rtr/list");return(0,t.useEffect)(()=>{E()},[E]),(0,t.useEffect)(()=>{null!==v&&n(v.result.list)},[E,v,Z]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.Z,{}),(0,s.jsx)(i.Z,{elevation:20,sx:{width:"98%",mx:"auto",my:"5rem",overflowX:"auto"},children:(0,s.jsxs)(l.Z,{spacing:4,direction:"column",children:[(0,s.jsx)(a.Z,{variant:"h1",sx:{width:"95%",margin:"0 auto",fontSize:"3rem",color:"#2C306F"},children:"Shop RTR List"}),(0,s.jsx)(d.Z,{children:(0,s.jsxs)(o.Z,{sx:{width:"95%",margin:"0 auto"},children:[(0,s.jsx)(u.Z,{sx:{" & th":{px:"5px"}},children:(0,s.jsxs)(c.Z,{sx:{"&>*":{textAlign:"center"}},children:[(0,s.jsx)(x.Z,{children:"Business Name"}),(0,s.jsx)(x.Z,{children:"Tin"}),(0,s.jsx)(x.Z,{children:"Full Name"}),(0,s.jsx)(x.Z,{children:"Designation"}),(0,s.jsx)(x.Z,{children:"Email Id"}),(0,s.jsx)(x.Z,{children:"Total Levy Payable"}),(0,s.jsx)(x.Z,{children:"Status"}),(0,s.jsx)(x.Z,{children:"Approvers Comment"}),(0,s.jsx)(x.Z,{children:"Action"})]})}),(0,s.jsx)(m.Z,{sx:{" & td":{px:"5px"}},children:r.map((e,r)=>(0,s.jsxs)(c.Z,{sx:{"&>*":{textAlign:"center"}},children:[(0,s.jsx)(x.Z,{children:e.company_name}),(0,s.jsx)(x.Z,{children:e.tin}),(0,s.jsx)(x.Z,{children:e.first_name}),(0,s.jsx)(x.Z,{children:e.designation}),(0,s.jsx)(x.Z,{children:e.email_id}),(0,s.jsx)(x.Z,{children:e.total_levy_payable}),(0,s.jsxs)(x.Z,{children:[" ",1===e.approval_status?"Pending":2===e.approval_status?"Approved":3===e.approval_status?"Rejected":""]}),(0,s.jsx)(x.Z,{children:e.admin_comments}),(0,s.jsx)(x.Z,{children:(0,s.jsx)(b(),{href:{pathname:"/Admin/RTRDetails/".concat(e.rtr_id)},children:(0,s.jsx)(p.Z,{variant:"contained",sx:{background:"#2e7d32 !important"},onClick:()=>{Z((0,y.WG)(e))},children:"Details"})})})]},r))})]})})]})})]})}},7208:function(e,r,n){"use strict";n.r(r);var s=n(5893),t=n(7294),i=n(1649),l=n(7536),a=n(1448),d=n(7357),o=n(5861),u=n(9008),c=n.n(u),x=n(7649);n(314);var m=n(640),p=n(3337),h=n(773),f=n(7557),j=n.n(f);r.default=()=>{let[e,r]=(0,t.useState)(!1),{data:n,error:u,errorMessage:f,fetchAPI:_}=(0,h.i)("post","/user/ragister"),[Z,b]=(0,t.useState)(!1),w=(0,i.I0)(),g=(0,i.v9)(e=>e.SignupForm),{control:y,handleSubmit:v,watch:E,reset:T,formState:{errors:q}}=(0,l.cI)({defaultValues:{name_of_business:g.name_of_business,address:g.address,tin:g.tin,first_name:g.first_name,last_name:"Test",designation:g.designation,telephone_number:g.telephone_number,cell_phone_number:g.cell_phone_number,email_id:g.email_id,password:g.password,rePassword:"",user_type:2}}),N=E("password"),P=E("rePassword");return(0,t.useEffect)(()=>{if(u){alert(f);return}},[f,u]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c(),{children:[(0,s.jsx)("title",{children:"Eswatini Environment Authority"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.png"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsx)(p.Z,{}),(0,s.jsx)(d.Z,{sx:{width:{xs:"98%",lg:"50%"},margin:"0 auto",p:{xs:"0.5rem",lg:"2rem"},borderRadius:"20px",position:"relative",top:"0",minHeight:{xs:"100vh",lg:"800px"}},children:(0,s.jsxs)(d.Z,{className:"grid grid-cols-2 gap-4 bg-white shadow-2xl p-4 rounded-xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full sm:w-3/4 lg:w-full",component:"form",onSubmit:v(e=>{if(N!==P){r(!0);return}r(!1);let n=j()(e,"rePassword");if(w((0,a.hK)(n)),_(n),u){alert(f),b(!1);return}}),children:[(0,s.jsx)(o.Z,{className:"col-span-full",variant:"h1",sx:{marginBottom:"2rem",fontSize:{xs:"1.5rem",md:"2rem",lg:"3rem"},color:"#2C306F"},children:"Sign Up Now!!"}),(0,s.jsx)(l.Qr,{control:y,name:"name_of_business",rules:{required:"BusinessName is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"text",fieldLabel:"Enter BusinessName",field:r,errorDetail:"name_of_business",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"address",rules:{required:"Address is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"text",fieldLabel:"Enter Address",field:r,errorDetail:"address",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"tin",rules:{required:"Tin is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"number",fieldLabel:"Enter Tin",field:r,errorDetail:"tin",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"first_name",rules:{required:"PrimaryContact is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"text",fieldLabel:"Enter Full Name",field:r,errorDetail:"first_name",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"designation",rules:{required:"Designation is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"text",fieldLabel:"Enter Designation",field:r,errorDetail:"designation",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"telephone_number",rules:{required:"TeleNo is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"number",fieldLabel:"Enter Telephone Number",field:r,errorDetail:"telephone_number",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"cell_phone_number",rules:{required:"CellNo is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"number",fieldLabel:"Enter Celephone Number",field:r,errorDetail:"cell_phone_number",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"email_id",rules:{required:"Email is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"email",fieldLabel:"Enter Email",field:r,errorDetail:"email_id",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"password",rules:{required:"Password is required"},render:e=>{let{field:r}=e;return(0,s.jsx)(x.Z,{inputType:"password",fieldLabel:"Enter Password",field:r,errorDetail:"password",errors:q})}}),(0,s.jsx)(l.Qr,{control:y,name:"rePassword",rules:{required:"Password is required"},render:r=>{let{field:n}=r;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{name:"repassword",inputType:"password",fieldLabel:"Re-Type-Password",field:n,errorDetail:"rePassword",errors:q}),e&&(0,s.jsx)("label",{style:{color:"red"},children:"Passwords do not match. Please try again."})]})}}),(0,s.jsx)(d.Z,{className:"col-span-full flex justify-center",children:(0,s.jsx)(m.Z,{type:"submit",text:"Register",bgColor:"#2C306F"})})]})})]})}},1182:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return i}});var s=n(5893),t=n(314);function i(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(t.default,{})})}n(7208),n(8507),n(1893),n(3337),n(7294)},1163:function(e,r,n){e.exports=n(6885)}},function(e){e.O(0,[935,784,154,662,319,22,367,507,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);